# IMP-013: Ajouter canonical URLs sur toutes les pages vitrine

**Type:** Improvement
**Statut:** Fait
**Priorite:** Critique
**Complexite:** S
**Tags:** vitrine, seo
**Date creation:** 2026-02-12

---

## Description

Le canonical est defini uniquement dans `layout.tsx` pour l'URL racine. Les pages individuelles ne l'overrident pas. Google peut considerer les pages comme du contenu duplique, penalisant le SEO.

## Criteres d'acceptation

- [ ] Chaque page a un `alternates.canonical` dans ses metadata
- [ ] URL de base configurable via constante (pour deploiement)
- [ ] Pages dynamiques ([serviceCity], [slug]) generent le bon canonical
- [ ] Verification avec outil SEO apres deploiement

## Fichiers concernes

- `apps/vitrine/src/app/contact/page.tsx`
- `apps/vitrine/src/app/services/page.tsx`
- `apps/vitrine/src/app/services/[slug]/page.tsx`
- `apps/vitrine/src/app/paysagiste-angers/page.tsx`
- `apps/vitrine/src/app/elagage-angers/page.tsx`
- `apps/vitrine/src/app/abattage-angers/page.tsx`
- `apps/vitrine/src/app/entretien-jardin-angers/page.tsx`
- `apps/vitrine/src/app/[serviceCity]/page.tsx`
- `apps/vitrine/src/app/cgv/page.tsx`
- `apps/vitrine/src/app/politique-confidentialite/page.tsx`
- `apps/vitrine/src/app/mentions-legales/page.tsx`

## Analyse / Approche

```typescript
// Definir l'URL de base
const SITE_URL = process.env.NEXT_PUBLIC_SITE_URL || 'https://artdesjardins49.fr';

// Dans chaque page statique
export const metadata: Metadata = {
  title: '...',
  alternates: {
    canonical: `${SITE_URL}/contact`,
  },
};

// Dans les pages dynamiques [serviceCity]
export async function generateMetadata({ params }) {
  return {
    alternates: {
      canonical: `${SITE_URL}/${params.serviceCity}`,
    },
  };
}
```

## Tests de validation

- [ ] Build vitrine OK
- [ ] Inspecter le HTML genere : chaque page a `<link rel="canonical" href="..."/>`
- [ ] Les URLs canonical correspondent bien aux URLs reelles
