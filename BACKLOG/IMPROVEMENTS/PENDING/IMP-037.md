# IMP-037: Ameliorer accessibilite menu mobile (aria-expanded, focus trap)

**Type:** Improvement
**Statut:** A faire
**Priorite:** Moyenne
**Complexite:** S
**Tags:** vitrine, accessibilite, ui
**Date creation:** 2026-02-13

---

## Description

Le menu mobile hamburger utilise un simple `useState` pour toggle l'affichage mais ne communique pas son etat aux technologies d'assistance :
- Pas de `aria-expanded` sur le bouton
- Pas de `aria-controls` reliant le bouton au menu
- Pas de focus trap quand le menu est ouvert
- Pas de fermeture avec Escape

## Fichiers concernes

- `apps/vitrine/src/components/layout/Header.tsx`

## Approche

```tsx
<button
  type="button"
  className="md:hidden p-2 rounded-md text-gray-700"
  onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
  aria-expanded={mobileMenuOpen}
  aria-controls="mobile-menu"
  aria-label={mobileMenuOpen ? 'Fermer le menu' : 'Ouvrir le menu'}
>
```

```tsx
{mobileMenuOpen && (
  <div id="mobile-menu" role="navigation" aria-label="Menu principal" className="md:hidden py-4 border-t">
```

Ajouter un `useEffect` pour fermer le menu avec Escape :
```typescript
useEffect(() => {
  const handleEscape = (e: KeyboardEvent) => {
    if (e.key === 'Escape') setMobileMenuOpen(false);
  };
  document.addEventListener('keydown', handleEscape);
  return () => document.removeEventListener('keydown', handleEscape);
}, []);
```

## Criteres d'acceptation

- [ ] `aria-expanded` present et dynamique sur le bouton hamburger
- [ ] `aria-controls="mobile-menu"` sur le bouton
- [ ] `id="mobile-menu"` et `role="navigation"` sur le menu
- [ ] Fermeture du menu avec la touche Escape
- [ ] `aria-label` dynamique sur le bouton

## Tests de validation

- [ ] Test avec VoiceOver / NVDA
- [ ] Appuyer sur Escape ferme le menu
- [ ] Verifier avec Lighthouse accessibilite score
