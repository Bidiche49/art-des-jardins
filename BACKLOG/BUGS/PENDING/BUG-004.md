# BUG-004: Fichier .env.production commite dans le repository

**Type:** Bug
**Statut:** A faire
**Priorite:** Critique
**Complexite:** XS
**Tags:** security, infra
**Date creation:** 2026-02-12

---

## Description

Les fichiers `.env.production` et `apps/pwa/.env.production` sont presents dans le repository Git. Meme s'ils contiennent actuellement des placeholders (`CHANGE_ME`), leur presence dans git est dangereuse :
- Risque de commit accidentel de vrais secrets
- Mauvaise pratique de securite
- Violation des guidelines projet

## Criteres d'acceptation

- [ ] `.env.production` supprime du tracking git (git rm --cached)
- [ ] `apps/pwa/.env.production` supprime du tracking git
- [ ] `.gitignore` verifie pour exclure `.env.production`
- [ ] Fichiers `.env.production.example` presents comme reference
- [ ] Aucun secret reel dans l'historique git (verifier)

## Fichiers concernes

- `.env.production` - supprimer du git
- `apps/pwa/.env.production` - supprimer du git
- `.gitignore` - verifier

## Analyse / Approche

```bash
# Supprimer du tracking sans supprimer les fichiers locaux
git rm --cached .env.production apps/pwa/.env.production

# Verifier le .gitignore
grep ".env.production" .gitignore

# Si absent, ajouter
echo ".env.production" >> .gitignore

# Verifier qu'aucun secret reel n'est dans l'historique
git log --all --full-history -- .env.production
```

## Tests de validation

- [ ] `git status` ne montre plus .env.production comme tracked
- [ ] `git ls-files | grep .env.production` ne retourne rien
- [ ] Les fichiers .env.production.example existent comme reference
